<!DOCTYPE html>
<html ng-app="formApp">
<head>
    <title>模板结构管理</title>
    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="favicon.ico">
    <link href="/psxj/systemInfo/ssxjxt/style/blue/css/page-style.css" rel="stylesheet" type="text/css"/>
    <link href="/psxj/systemInfo/ssxjxt/style/blue/css/bootstrap.min14ed.css?v=3.3.6" rel="stylesheet">
    <link href="/psxj/systemInfo/ssxjxt/style/blue/css/font-awesome.min93e3.css?v=4.4.0" rel="stylesheet">
    <link href="/psxj/systemInfo/ssxjxt/style/blue/css/plugins/bootstrap-table/bootstrap-table.min.css" rel="stylesheet">
    <link href="/psxj/systemInfo/ssxjxt/style/blue/css/plugins/bootstrap-table/bootstrap-editable.css" rel="stylesheet">
    <link href="/psxj/systemInfo/ssxjxt/style/blue/css/plugins/bootstrapvalidator/bootstrapValidator.css" rel="stylesheet">
    <link href="/psxj/systemInfo/ssxjxt/style/blue/css/animate.min.css" rel="stylesheet">
    <link href="/psxj/systemInfo/ssxjxt/style/blue/css/style.min862f.css?v=4.1.0" rel="stylesheet">
    <link rel="stylesheet" href="/psxj/systemInfo/ssxjxt/lib/plugins/zTree/css/zTreeStyle/metro.css"/>
    <script src="/psxj/systemInfo/ssxjxt/lib/jquery.min.js?v=1.0.0"></script>
    <script src="/psxj/systemInfo/ssxjxt/lib/plugins/zTree/js/jquery.ztree.all-3.5.min.js"></script>
    <script type="text/javascript" src="/psxj/systemInfo/ssxjxt/lib/3rdparty/angular/app/lib/angular/angular.min.js"></script>
</head>

<body ng-controller ='formController'>
<div class="formpageconfiguration-container" style="display: inline-block;width:100%;height:94%;margin-top:5px;">
    <div class="col-xs-12 row" style="height:100%;">
        <div class="col-xs-2 " style="height:100%;">
            <div class="panel panel-blue" style="height:100%;width:100%;overflow:auto;border-color: rgb(104,171,234);">
                <div class="panel-heading" style="width:100%;">
                    <div class="role-head-logo"></div>
                    <div style="color: #FFFFFF;font-family: 黑体;font-size: 14px;text-align: left;margin-left:35px;margin-top:5px;">
                        表模板管理
                    </div>
                </div>
                <div class="panel-body" style="height:90%;">
                    <ul tree  id="formpageconfiguration_tree" class="ztree" ng-model="selectNode" style="text-align:left;"></ul>
                </div>
            </div>
        </div>
        <div class="col-xs-10 " style="height:100%;">
            <ul class="nav nav-tabs">
                <li role="presentation"><a role="tab" class="active" data-toggle="tab">表单页面配置</a></li>
                <li class="navbar-right" style="margin-right:5px;">
                    <button class="btn btn-primary" ng-click='saveBtnClick()'>保存</button>
                </li>
            </ul>
            <div class="panel" style="height:93%;width:100%;overflow:auto;border-color: rgb(104,171,234);line-height:33px;">
                <div style="height:92%;">
                    <div class='yui3-app-field-setting' style="margin: 5px;height: 95%">
                        <div class=" col-sm-3" style="height:100%;">
                            <div class="panel panel-blue"
                                 style="height:100%;width:100%;overflow:auto;border-color: rgb(104,171,234);">
                                <div class="panel-heading">
                                    <div style="color: #FFFFFF;font-family: 黑体;font-size: 14px;text-align: left;margin-left:35px;margin-top:0px;"> 可选字段
                                    </div>
                                </div>
                                <div class="panel-body" style="height:90%;">
                                    <div  style="height:98%">
                                        <table class="fields-table" style="height:90%;width:92%;">
                                            <tr>
                                                <td class='leftPane' >
                                                    <div   style="overflow:auto;margin:auto;height:100%;" >
                                                        <div ng-model='fields' ng-repeat="item in fields" ng-dblclick="rightMoveClick()" ng-click="selectField($index)"  ng-class='{fieldDIVclickedBlur:$index==fieldIndex}'  class="fieldDIV">
                                                            <span>{{item.displayname}}</span>
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-1 btnPane">
                            <div class='chooseBtn rightBtn' ng-click='rightMoveClick()'>&nbsp;</div>
                            <div class='chooseBtn leftBtn' ng-click='leftMoveClick()'>&nbsp;</div>
                            <div class='chooseBtn rightAllBtn' ng-click='allRightMoveClick()'>&nbsp;</div>
                            <div class='chooseBtn leftAllBtn' ng-click='allLeftMoveClick()'>&nbsp;</div>
                        </div>
                        <div class=" col-sm-3" style="height:100%;">
                            <div class="panel panel-blue"
                                 style="height:100%;width:100%;overflow:auto;border-color: rgb(104,171,234);">
                                <div class="panel-heading">
                                    <div style="color: #FFFFFF;font-family: 黑体;font-size: 14px;text-align: left;margin-left:35px;margin-top:0px;">表单字段
                                    </div>
                                </div>
                                <div class="panel-body" style="height:90%;">
                                    <div style="height:98%">
                                        <table class="fields-table" style="height:90%;width:92%;">
                                            <tr>
                                                <td class='leftPane' >
                                                    <div   style="overflow:auto;margin:auto;height:100%;" >
                                                        <div ng-model='formFields' ng-repeat="item in formFields" ng-dblclick="leftMoveClick()" ng-click="selectFormField($index)" ng-class='{fieldDIVclickedBlur:$index==formFieldIndex}' class="fieldDIV">
                                                            <span>{{item.displayname}}</span>
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class=" col-sm-5" style="height:100%;">
                            <div class="panel panel-blue"
                                 style="height:100%;width:100%;border-color: rgb(104,171,234);">
                                <div class="panel-heading">
                                    <div style="color: #FFFFFF;font-family: 黑体;font-size: 14px;text-align: left;margin-left:35px;margin-top:0px;">字段属性
                                    </div>
                                </div>
                                <form style="height: 92%" class="form-horizontal" role="form">
                                    <div style="overflow-x: hidden; overflow-y: auto; height: 95%; width:auto;">
                                        <div class="panel-body" style="height:90%;">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4" for="FieldName">字段名称:</label>

                                                <div class="col-sm-7">
                                                    <input  class="form-control" ng-model='formFields[formFieldIndex].fieldname' ng-disabled="true">
                                                </div>

                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-sm-4" for="DataTypeName">字段类型:</label>

                                                <div class="col-sm-7">
                                                    <input  class="form-control" ng-model='formFields[formFieldIndex].datatypename' ng-disabled="true">
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label class="control-label col-sm-4" for="DisplayName">显示名称:</label>

                                                <div class="col-sm-7">
                                                    <input class="form-control" ng-model='formFields[formFieldIndex].displayname'>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-sm-4" for="Colspan">所占列数:</label>

                                                <div class="col-sm-7">
                                                    <select  class="form-control " ng-model="formFields[formFieldIndex].colspan">
                                                        <option value="1">1列</option>
                                                        <option value="2">2列</option>
                                                    </select>
                                                </div>

                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-sm-4" for="editflag">是否可编辑:</label>

                                                <div class="col-sm-7">
                                                    <select class="form-control " ng-model="formFields[formFieldIndex].editflag">
                                                        <option value="1">是</option>
                                                        <option value="0">否</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-sm-4" for="Validateid">验证规则:</label>

                                                <div class="col-sm-7">
                                                    <select  class="form-control " ng-model="formFields[formFieldIndex].validateid">
                                                        <option value="-1">---请选择---</option>
                                                        <option value="1">整形</option>
                                                        <option value="0">字符型</option>
                                                    </select>
                                                </div>

                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-sm-4" for="Componentid">控件类型:</label>
                                                <div class="col-sm-7">
                                                    <select  class="form-control " ng-model="formFields[formFieldIndex].componentid" ng-change="componentChange(formFields[formFieldIndex].componentid)">
                                                        <option value="-1">---请选择---</option>
                                                        <option value="0">下拉框</option>
                                                        <option value="1">文本</option>
                                                        <option value="2">日期</option>
                                                        <option value="3">复选框</option>
                                                        <option value="4">文本域</option>
                                                        <option value="5">单选框</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group" ng-show="isDic">
                                                <label class="control-label col-sm-4" for="dicname">字典表名称:</label>
                                                <div class="col-sm-7">
                                                    <select class="form-control " ng-model="formFields[formFieldIndex].diccode"  ng-options="dic.typecode as dic.name for dic in dics"   ng-change="dicChange(formFields[formFieldIndex].diccode)">
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group" ng-show="relatedtabletypecode">
                                                <label class="control-label col-sm-4" for="relatedtabletypecode">关联父级字段:</label>
                                                <div class="col-sm-7">
                                                    <select class="form-control " ng-model="formFields[formFieldIndex].relatedtabletypecode"  ng-options="typecode.fieldname as typecode.displayname for typecode in typecodes"   ng-change="">
                                                        <option value=""></option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group" ng-show="relatedtabletypecode">
                                                <label class="control-label col-sm-4" for="relatedtabletypecode">字典项关联字段:</label>
                                                <div class="col-sm-7">
                                                    编码：
                                                    <select class="form-control " ng-model="formFields[formFieldIndex].relatedtablediccode"  ng-options="diccode.fieldname as diccode.displayname for diccode in diccodes"   ng-change="">
                                                        <option value=""></option>
                                                    </select>
                                                    显示值：
                                                    <select class="form-control " ng-model="formFields[formFieldIndex].relatedtabledicname"  ng-options="dicname.fieldname as dicname.displayname for dicname in dicnames"   ng-change="">
                                                        <option value=""></option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group" ng-show="isDic">
                                                <label class="control-label col-sm-4" for="relateddiccode">联动关联字典表名称:</label>
                                                <div class="col-sm-7">
                                                    <select class="form-control " ng-model="formFields[formFieldIndex].relateddiccode"  ng-options="dic.typecode as dic.name for dic in dics"   ng-change="">
                                                        <option value=""></option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-sm-4" for="metacodeitems">字段标记分类项:</label>
                                                <div class="col-sm-7">
                                                    <select class="form-control " ng-model="formFields[formFieldIndex].belongmetacodeitem"  ng-options="metItem.code as metItem.name for metItem in metacodeitems " ng-change="">
                                                        <option value=""></option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
<script src="/psxj/systemInfo/ssxjxt/lib/asi/common/common.js"></script>
<script src="/psxj/systemInfo/ssxjxt/lib/bootstrap.min.js?v=3.3.6"></script>
<script src="/psxj/systemInfo/ssxjxt/lib/plugins/bootstrap-table/bootstrap-table.js"></script>
<script src="/psxj/systemInfo/ssxjxt/lib/plugins/bootstrap-table/locale/bootstrap-table-zh-CN.min.js" charset="UTF-8"></script>
<script src="/psxj/systemInfo/ssxjxt/lib/plugins/bootstrapvalidator/bootstrapValidator.js"></script>
<script src="/psxj/systemInfo/ssxjxt/lib/plugins/layer-v2.4/layer/layer.js"></script>
<script src="js/formpageconfiguration.js"></script>
</html>
