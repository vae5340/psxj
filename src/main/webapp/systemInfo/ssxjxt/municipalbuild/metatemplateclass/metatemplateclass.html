<!DOCTYPE html>
<html>
  <head>
    <title>基类模板管理</title>
	<meta charset="UTF-8">	
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="favicon.ico"> 
    <link href="/psxj/systemInfo/ssxjxt/style/blue/css/page-style.css" rel="stylesheet" type="text/css"/>
	<link href="/psxj/systemInfo/ssxjxt/style/blue/css/bootstrap.min14ed.css?v=3.3.6" rel="stylesheet">
    <link href="/psxj/systemInfo/ssxjxt/style/blue/css/font-awesome.min93e3.css?v=4.4.0" rel="stylesheet">
    <link href="/psxj/systemInfo/ssxjxt/style/blue/css/plugins/bootstrap-table/bootstrap-table.min.css" rel="stylesheet">
	<link href="/psxj/systemInfo/ssxjxt/style/blue/css/plugins/bootstrap-table/bootstrap-editable.css" rel="stylesheet">
	<link href="/psxj/systemInfo/ssxjxt/style/blue/css/plugins/bootstrapvalidator/bootstrapValidator.css" rel="stylesheet">
    <link href="/psxj/systemInfo/ssxjxt/style/blue/css/animate.min.css" rel="stylesheet">
    <link href="/psxj/systemInfo/ssxjxt/style/blue/css/style.min862f.css?v=4.1.0" rel="stylesheet">
    <link rel="stylesheet" href="/psxj/systemInfo/ssxjxt/lib/plugins/zTree/css/zTreeStyle/metro.css" />
    <script type="text/javascript" src="/psxj/systemInfo/ssxjxt/lib/3rdparty/knockout/knockout-3.2.0.js"></script>
  </head>
  
  <body>
	<div class="metadatatable-container" style="display: inline-block;width:100%;height:99%;margin-top:5px;">
		<div class="col-xs-12 row" style="height:100%;">
			<div class="col-xs-3 "  style="height:100%;">
				<div class="panel panel-blue" style="height:100%;width:100%;overflow:auto;border-color: rgb(104,171,234);">
					<div class="panel-heading" style="width:100%;">
					    <div class="role-head-logo"></div>
					    <div style="color: #FFFFFF;font-family: 黑体;font-size: 14px;text-align: left;margin-left:35px;margin-top:5px;">市政设施</div>
					</div>
					<div class="panel-body newtree">
						<div id="metadatatable_tree" class="ztree" style="text-align:left;"></div>
					</div>
				</div>
			</div>
			<div class="col-xs-9 "  style="height:100%;">
				<ul id="metadatatable_nav" class="nav nav-tabs">				 
				  <li role="presentation"><a href="#metadatatable_add_tab" aria-controls="metadatatable_add_tab" role="tab" data-toggle="tab">基类模板配置</a></li>
				  <li role="presentation" class="active"><a href="#metadatatable_list_tab" aria-controls="metadatatable_list_tab" role="tab" data-toggle="tab">基类模板列表</a></li>
				  <li role="presentation" class="navbar-right" style="margin-right:5px;"><button  class="btn btn-primary" data-bind="{click:saveMetatemplateclass}">保存</button></li>
				  <li role="presentation" class="navbar-right" style="margin-right:5px;"><button  class="btn btn-primary" data-bind="{click:deleteMetatemplateclass}">删除</button></li>
				  <li role="presentation" class="navbar-right" style="margin-right:5px;"><button  class="btn btn-primary" data-bind="{click:addMetatemplateclass}">新增</button></li>
				</ul>
				<div id="tab-content-panel" class="tab-content  panel panel-grad" style="height:95%;border-color:rgb(104,171,234);">
					<div role="tabpanel" class="tab-pane" id="metadatatable_add_tab">
					 <form id="defaultForm">
						 <div class="panel-body full-height" style="overflow-x: auto;overflow-y:auto;">
						<div class="form-horizontal" style="margin: 5px 25px 5px 25px;">
						    <input data-bind="{value:metatemplateclass.id}" style="display:none;" type="text">
							<div id="form-group-row" class="form-group">
								<label class="form-label col-sm-2">基类名称:</label>
								<div class="form-controls col-sm-4">
									<input id="templateclassname" class="required form-control" placeholder="" name="templateclassname" data-bind="{value:metatemplateclass.templateclassname}" >
								</div>
								<label class="form-label col-sm-2">基类显示名称:</label>
								<div class="form-controls col-sm-4">
									<input id="displayname" class="required form-control" placeholder="" name="displayname"  data-bind="{value:metatemplateclass.displayname}" >
								</div>
							</div>
							<div class="form-group">
								<label class="form-label col-sm-2">基类描述:</label>
								<div class="form-controls col-sm-4">
									<input id="templateclassdesc" class="required form-control" placeholder=""  data-bind="{value:metatemplateclass.templateclassdesc}" >
								</div>
								<div id="getTableField">
									<label class="form-label col-sm-2">参考表名称:</label>
									<div class="form-controls col-sm-2">
										<input id="referenceTable" class="required form-control col-sm-8" placeholder="" data-bind="{value:metatemplateclass.referenceTable}" >
									</div>
									<div class="form-controls col-sm-2">
										<button  class="btn-primary" data-bind="{click:getTableField}">获取字段</button>					
									</div>	
								</div>							
							</div>
							<div class="form-group">
								<div class=" col-sm-12">
									<div class="panel panel-success" style="height:100%;overflow:auto;width: auto">
										<div class="panel-heading  text-left" style="width:100%;">编辑录入属性</div>
										<div title="新增属性" class="tablefield-add" style="margin-right:5px;position:absolute;top:10px;right:80px;cursor:pointer;"></div>
										<div title="删除属性" class="tablefield-del" style="margin-right:5px;position:absolute;top:10px;right:40px;cursor:pointer;"></div>
										<div id="paneltable" class="panel-body">
											<table id="editDetailTableField" class="fieldlist-table">
											</table>
										</div>
									</div>
								</div>
							</div>
						</div>
						 </div>
						</form>
					</div>
					<div role="tabpanel" class="tab-pane active " id="metadatatable_list_tab" style="overflow-y:auto;height:100%;">
						<table id="metatemplateclass_table" class="table table-striped table-hover text-center">
							<thead class="text-center">
								<tr>
									<th class="text-center">基类模板名称</th>
									<th class="text-center">显示名称</th>
									<th class="text-center">基类模板描述</th>
								</tr>
							</thead>
							<tbody>
								<!--ko foreach: metatemplateclasslist-->
								<tr>
									<td data-bind="{text:templateclassname}"></td>
									<td data-bind="{text:displayname}"></td>
									<td data-bind="{text:templateclassdesc}"></td>
								</tr>
								<!--/ko-->
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>	
  </body>
	<script src="/psxj/systemInfo/ssxjxt/lib/jquery.min.js?v=1.0.0"></script>
  	<script src="/psxj/systemInfo/ssxjxt/lib/asi/common/common.js"></script>
    <script src="/psxj/systemInfo/ssxjxt/lib/plugins/zTree/js/jquery.ztree.all-3.5.min.js"></script>
	<script src="/psxj/systemInfo/ssxjxt/lib/bootstrap.min.js?v=3.3.6"></script>
	<script src="/psxj/systemInfo/ssxjxt/lib/plugins/bootstrap-table/bootstrap-table.js"></script>
	<script src="/psxj/systemInfo/ssxjxt/lib/plugins/bootstrap-table/locale/bootstrap-table-zh-CN.min.js" charset="UTF-8"></script>
	<script src="/psxj/systemInfo/ssxjxt/lib/plugins/bootstrapvalidator/bootstrapValidator.js"></script>
	<script src="/psxj/systemInfo/ssxjxt/lib/plugins/layer-v2.4/layer/layer.js"></script>
	<script src="js/metatemplateclass.js"></script>
</html>
